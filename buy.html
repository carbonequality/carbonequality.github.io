<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="apple-touch-icon" href="icon.png">

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <script src="https://cdn.jsdelivr.net/npm/web3@1.6.1/dist/web3.min.js"></script>

  <meta name="theme-color" content="#fafafa">
</head>

<body>
    
  <main class="main main__account main__buy">
    <header class="header__account">
        <div class="header__account--left">
            <div class="logo">
                <a href="account.html">
                    <img src="img/logo-black.svg" alt="logo-black">
                </a>
            </div>
            <div class="search">
                <input type="text" placeholder="Search">
                <img src="img/search.svg" alt="search">
            </div>
        </div>
        <div class="header__account--right">
            <div class="header__action">
                <a href="#" class="header__action--item">
                    <img src="img/mail.svg" alt="mail">
                </a>
                <a href="#" class="header__action--item">
                    <img src="img/dark_mode.svg" alt="dark_mode">
                </a>
                <a href="#" class="header__action--item">
                    <img src="img/notification.svg" alt="notification">
                </a>
            </div>
            <div class="header__auth">
                <a href="#" class="header__auth--item">
                    <img src="img/profile.svg" alt="profile">
                </a>
                <a href="#" class="header__auth--item">
                    <img src="img/quit-black.svg" alt="quit">
                    Log Out
                </a>
                <div class="header__burger account">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>
    <div class="main__account--info">
        <section class="sidebar">
            <div class="sidebar__menu">
                <a href="account.html" class="sidebar__menu--item">
                    <div class="sidebar__menu--icon"></div>
                    <div class="sidebar__menu--text">
                        Wallet
                    </div>
                </a>
                <a href="buy.html" class="sidebar__menu--item active">
                    <div class="sidebar__menu--icon"></div>
                    <div class="sidebar__menu--text">
                        Buy
                    </div>
                </a>
                <a href="cancel.html" class="sidebar__menu--item">
                    <div class="sidebar__menu--icon"></div>
                    <div class="sidebar__menu--text">
                        Cancel DCRT
                    </div>
                </a>
                <a href="reports.html" class="sidebar__menu--item no-active">
                    <div class="sidebar__menu--icon"></div>
                    <div class="sidebar__menu--text">
                        Reports
                    </div>
                </a>
            </div>
        </section>
        <section class="main__account--content">
            <div class="main__account--top">
                <a href="#" class="back">
                    <img src="img/arrow-back.svg" alt="arrow-back">
                    Back
                </a>
            </div>
            <div class="order">
                <div class="order__info">
                    <div class="order__info--left">
                        <div class="order__info--title">
                            Your order
                        </div>
                        <div class="order__info--price">
                            <div class="order__info--input">
                                <input type="number" value="345.89" placeholder="0.0">
                                <span>DCRT</span>
                            </div>
                            <div class="order__info--subtitle">
                                Enter here amount of DCRT to buy
                            </div>
                        </div>
                        <div class="order__info--price">
                            <div class="order__info--input">
                                <input type="number" value="123.65" placeholder="0.0">
                                <span>USDT</span>
                            </div>
                            <div class="order__info--subtitle">
                                Enter here amount of USDT to buy
                            </div>
                        </div>
                        <div class="order__info--subtotal">
                            <div class="subtotal__list">
                                <div class="subtotal--text">
                                    Subtotal
                                </div>
                                <div class="subtotal--price">
                                    190,00 $
                                </div>
                            </div>
                            <div class="subtotal__list">
                                <div class="subtotal--text">
                                    DCRT exchange rate
                                </div>
                                <div class="subtotal--price">
                                    9,00 $
                                </div>
                            </div>
                        </div>
                        <div class="order__info--total">
                            <div class="total__left">
                                <div class="total--title">
                                    Total
                                </div>
                                <!-- <div class="total--subtitle">
                                    Including 00,00 $ in taxes
                                </div> -->
                            </div>
                            <div class="total__right">
                                199,00 $
                            </div>
                        </div>
                    </div>
                    <div class="order__info--right">
                        <div class="order__info--title">
                            Payment
                        </div>
                        <div class="order__info--pay">
                            <div class="pay__label">Pay With:</div>
                            <div class="pay__tabs">
                                <div class="pay__tabs--radio">
                                    <input type="radio" name="radio" value="1" class="pay__radio" id="USDT">
                                    <label class="pay__tabs--label" for="USDT">USDT</label>
                                </div>
                                <div class="pay__tabs--radio">
                                    <input type="radio" name="radio" value="2" class="pay__radio" id="Card">
                                    <label class="pay__tabs--label" for="Card">Card</label>
                                </div>
                                <div class="pay__tabs--radio">
                                    <input type="radio" name="radio" value="3" class="pay__radio" id="PayPal">
                                    <label class="pay__tabs--label" for="PayPal">PayPal</label>
                                </div>
                                <div class="pay__tabs--radio">
                                    <input type="radio" name="radio" value="4" class="pay__radio" id="invoice">
                                    <label class="pay__tabs--label" for="invoice">Order invoice</label>
                                </div> 
                            </div>
                            <div class="pay__content">
                                <div class="block-text" id="block-1">
                                    <div class="usdt">
                                        <div class="usdt__info">
                                            <div class="usdt__label">
                                                Transfer USDT 199.99 to:
                                            </div>
                                            <div class="usdt__text">
                                                Initiative crypto wallet
                                            </div>
                                            <div class="usdt__wallet">
                                                0000039858389272
                                                <button><img src="img/copy-wallet.svg" alt="copy-wallet"></button>
                                            </div>
                                            <div class="usdt__expires">
                                                <span>Expires in</span>
                                                <div class="time">10:00</div>
                                                <span>minutes</span>
                                            </div>
                                            <div class="usdt__btn">
                                                <a href="confirm.html">Confirm transfer</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-text" id="block-2">
                                    <div class="card">
                                        <div class="card__info">
                                            <div class="card__number">
                                                <div class="card__label">Card Number</div>
                                                <div class="card__input">
                                                    <input type="text" placeholder="4590 0098 5678 4321">
                                                </div>
                                            </div>
                                            <div class="card__row">
                                                <div class="card__date">
                                                    <div class="card__label">Expiration Date</div>
                                                    <div class="card__input">
                                                        <input type="text" placeholder="MM/YY">
                                                    </div>
                                                </div>
                                                <div class="card__cvv">
                                                    <div class="card__label">CVV</div>
                                                    <div class="card__input">
                                                        <input type="text" placeholder="999">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card__checkbox">
                                                <input type="checkbox" name="checkbox" value="1" class="card__checkbox--input" id="save">
                                                <label class="card__checkbox--label" for="save">Save card details</label>
                                            </div>
                                            <div class="card__btn card__btn--pay">
                                                <button>Pay USD 199.00</button>
                                            </div>
                                        </div>
                                        <div class="card__code">
                                            <div class="card__code--text">
                                                Enter your SMS or push verification code 
                                            </div>
                                            <div class="card__code--inputs">
                                                <input type="text">
                                                <input type="text">
                                                <input type="text">
                                                <input type="text">
                                            </div>
                                            <div class="card__btn card__btn--confirm">
                                                <a href="confirm.html">Confirm payment USD 199.00</a>
                                            </div>
                                            <div class="card__small">
                                                Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our privacy policy.
                                            </div>
                                        </div> 
                                    </div>
                                </div>
                                <div class="block-text" id="block-3">
                                    <div class="paypal">
                                        <div class="paypal__img">
                                            <img src="img/paypal.png" alt="paypal">
                                        </div>
                                        <div class="paypal__balance">
                                            <div class="paypal__text">
                                                PayPal Balance
                                            </div>
                                            <span>7 893,98 $</span>
                                        </div>
                                        <div class="paypal__btn">
                                            <a href="confirm.html">Pay USD 199.00</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-text" id="block-4">
                                    <div class="invoice">
                                        <div class="invoice__title">
                                            Initiative’s payment details
                                            <button><img src="img/copy.svg" alt="copy"></button>
                                        </div>
                                        <div class="invoice__info">
                                            <div class="invoice__text">
                                                Текст 00000010294г87572589023523к
                                            </div>
                                            <div class="invoice__text">
                                                Текст текст текст текст 325897468547836478
                                            </div>
                                            <div class="invoice__text">
                                                Текст текст текст текст 325897468547836478
                                            </div>
                                        </div>
                                        <form action="#" method="" class="invoice__form">
                                            <div class="invoice__title">
                                                Client’s payment details
                                            </div>
                                            <textarea class="invoice__form--textarea"></textarea>
                                            <div class="card__checkbox">
                                                <input type="checkbox" name="checkbox" value="1" class="card__checkbox--input" id="save">
                                                <label class="card__checkbox--label" for="save">Get the invoice by email</label>
                                            </div>
                                            <button type="submit" class="invoice__form--btn">Order the invoice</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="orders">
                <div class="orders__title">
                    Orders
                </div>
                <div class="orders__head">
                    <div class="orders__item--head">
                        №
                    </div>
                    <div class="orders__item--head">
                        Order number
                    </div>
                    <div class="orders__item--head">
                        Order status
                    </div>
                    <div class="orders__item--head">
                        Order date
                    </div>
                </div>
                <div class="orders__list">
                    <div class="orders__item">
                        <div class="orders__item--number">
                            1
                        </div>
                        <div class="orders__item--order">
                            № 123456789000012
                        </div>
                        <div class="orders__item--status status__progress">
                            In progress
                        </div>
                        <div class="orders__item--date">
                            12 may 2024
                        </div>
                        <div class="orders__item--view">
                            View order
                            <a href="#">
                                <img src="img/Open.svg" alt="Open">
                            </a>
                        </div>
                    </div>
                    <div class="orders__item">
                        <div class="orders__item--number">
                            2
                        </div>
                        <div class="orders__item--order">
                            № 123456789000012
                        </div>
                        <div class="orders__item--status status__progress">
                            In progress
                        </div>
                        <div class="orders__item--date">
                            12 may 2024
                        </div>
                        <div class="orders__item--view">
                            View order
                            <a href="#">
                                <img src="img/Open.svg" alt="Open">
                            </a>
                        </div>
                    </div>
                    <div class="orders__item">
                        <div class="orders__item--number">
                            3
                        </div>
                        <div class="orders__item--order">
                            № 123456789000012
                        </div>
                        <div class="orders__item--status status__failed">
                            Failed
                        </div>
                        <div class="orders__item--date">
                            12 may 2024
                        </div>
                        <div class="orders__item--view">
                            View order
                            <a href="#">
                                <img src="img/Open.svg" alt="Open">
                            </a>
                        </div>
                    </div>
                    <div class="orders__item">
                        <div class="orders__item--number">
                            4
                        </div>
                        <div class="orders__item--order">
                            № 123456789000012
                        </div>
                        <div class="orders__item--status status__completed">
                            Completed
                        </div>
                        <div class="orders__item--date">
                            12 may 2024
                        </div>
                        <div class="orders__item--view">
                            View order
                            <a href="#">
                                <img src="img/Open.svg" alt="Open">
                            </a>
                        </div>
                    </div>
                    <div class="orders__item">
                        <div class="orders__item--number">
                            5
                        </div>
                        <div class="orders__item--order">
                            № 123456789000012
                        </div>
                        <div class="orders__item--status status__completed">
                            Completed
                        </div>
                        <div class="orders__item--date">
                            12 may 2024
                        </div>
                        <div class="orders__item--view">
                            View order
                            <a href="#">
                                <img src="img/Open.svg" alt="Open">
                            </a>
                        </div>
                    </div>
                    <div class="orders__item">
                        <div class="orders__item--number">
                            6
                        </div>
                        <div class="orders__item--order">
                            № 123456789000012
                        </div>
                        <div class="orders__item--status status__progress">
                            In progress
                        </div>
                        <div class="orders__item--date">
                            12 may 2024
                        </div>
                        <div class="orders__item--view">
                            View order
                            <a href="#">
                                <img src="img/Open.svg" alt="Open">
                            </a>
                        </div>
                    </div>
                    <div class="orders__item">
                        <div class="orders__item--number">
                            7
                        </div>
                        <div class="orders__item--order">
                            № 123456789000012
                        </div>
                        <div class="orders__item--status status__progress">
                            In progress
                        </div>
                        <div class="orders__item--date">
                            12 may 2024
                        </div>
                        <div class="orders__item--view">
                            View order
                            <a href="#">
                                <img src="img/Open.svg" alt="Open">
                            </a>
                        </div>
                    </div>
                </div>
            </div> -->
        </section>
    </div>
  </main>

  <script src="js/jquery-3.1.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.6.1/dist/web3.min.js"></script>
  <script>
    // Фиксированная цена DCRT в долларах
    const dcrtPriceInUSD = 5;

    // ABI контракта DCRT
    const dcrtContractABI = [
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "string",
				"name": "docs",
				"type": "string"
			}
		],
		"name": "addDocs",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "tokenAddress",
				"type": "address"
			}
		],
		"name": "addToRegistry",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "contractAddress",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			},
			{
				"internalType": "address",
				"name": "assetAddress",
				"type": "address"
			}
		],
		"name": "attachAssetAndSendPayment",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "burn",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "eventType",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "initiator",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "industry",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "location",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "emissionFactors",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "nftID",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "verifier",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "nftIDSecond",
				"type": "string"
			}
		],
		"name": "burnRegister",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "buyDCRT",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "newPrice",
				"type": "uint256"
			}
		],
		"name": "changePrice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "subtractedValue",
				"type": "uint256"
			}
		],
		"name": "decreaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "addedValue",
				"type": "uint256"
			}
		],
		"name": "increaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "mint",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "tokenAddress",
				"type": "address"
			}
		],
		"name": "removeFromRegistry",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "string",
				"name": "nftIDThird",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "nftIDFourth",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "nftIDFifth",
				"type": "string"
			}
		],
		"name": "setAdditionalNftIDs",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "recipient",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "newAmount",
				"type": "uint256"
			}
		],
		"name": "updateAccountingAmount",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "addressToString",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "certificatePrices",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "pure",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getAccountingInformation",
		"outputs": [
			{
				"components": [
					{
						"internalType": "string",
						"name": "name",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "eventType",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "initiator",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "industry",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "location",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "emissionFactors",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "technology",
						"type": "string"
					},
					{
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					},
					{
						"internalType": "string",
						"name": "verifier",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "submissionDate",
						"type": "string"
					},
					{
						"internalType": "uint256",
						"name": "price",
						"type": "uint256"
					}
				],
				"internalType": "struct CarbonToken.Certificate",
				"name": "",
				"type": "tuple"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getburnRegisterInformation",
		"outputs": [
			{
				"components": [
					{
						"internalType": "string",
						"name": "name",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "eventType",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "initiator",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "industry",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "location",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "emissionFactors",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "nftID",
						"type": "string"
					},
					{
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					},
					{
						"internalType": "string",
						"name": "verifier",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "nftIDSecond",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "nftIDThird",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "nftIDFourth",
						"type": "string"
					},
					{
						"internalType": "string",
						"name": "nftIDFifth",
						"type": "string"
					}
				],
				"internalType": "struct CarbonToken.BurnCertificate",
				"name": "",
				"type": "tuple"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getDocs",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "tokenAddress",
				"type": "address"
			}
		],
		"name": "isRegistered",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalAmount",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];

    // Создаем объект контракта DCRT
    const dcrtContractAddress = '0xYourContractAddress'; // Здесь укажите адрес вашего смарт-контракта DCRT
    const dcrtContract = new web3.eth.Contract(dcrtContractABI, dcrtContractAddress);

    // Функция для обновления общей суммы в разделе "Your order"
    function updateTotalAmount() {
      const dcrtAmount = parseFloat(document.querySelector('.order__info--price input[type="number"]').value);
      const totalAmount = dcrtAmount * dcrtPriceInUSD;
      document.querySelector('.order__info--total .total__right').textContent = totalAmount.toFixed(2) + ' $';
    }

    // Добавляем обработчик события input на поле ввода количества DCRT
    document.querySelector('.order__info--price input[type="number"]').addEventListener('input', updateTotalAmount);

    // Функция для покупки DCRT
    async function buyDCRTFromUser() {
      try {
        // Запрос на вызов функции buyDCRT с указанием количества DCRT
        const userAddress = '0xe1866DAC981Bcb77f8b4Cd33BA46A4b6291C8963'; // Здесь укажите адрес пользователя MetaMask
        const dcrtAmount = parseFloat(document.querySelector('.order__info--price input[type="number"]').value);
        const totalAmount = dcrtAmount * dcrtPriceInUSD;
        const amountInDCRT = dcrtAmount;

        // Конвертируем количество DCRT в Wei
        const amountInWei = web3.utils.toWei(amountInDCRT.toString(), 'ether');

        // Определяем параметры вызова функции buyDCRT
        const functionData = dcrtContract.methods.buyDCRT(userAddress, amountInWei).encodeABI();

        // Выполняем транзакцию
        await window.ethereum.request({
          method: 'eth_sendTransaction',
          params: [
            {
              from: userAddress,
              to: dcrtContractAddress,
              data: functionData,
              value: amountInWei,
            },
          ],
        });

        // Выводим сообщение об успешной отправке транзакции
        alert(`Transaction sent successfully! You are buying ${dcrtAmount} DCRT for ${totalAmount.toFixed(2)} $`);

        // Очищаем поле ввода количества DCRT
        document.querySelector('.order__info--price input[type="number"]').value = '';

      } catch (error) {
        console.error(error);
        alert('Transaction failed. Please try again.');
      }
    }

    // Находим кнопку "Confirm transfer" и добавляем обработчик клика
    document.querySelector('.usdt__btn a').addEventListener('click', () => {
      buyDCRTFromUser();
    });

    // Инициализируем общую сумму при загрузке страницы
    updateTotalAmount();
  </script>
  
</body>
</html>
